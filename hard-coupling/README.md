# Плюсы и минусы жестких зависимостей
Только что реализованный пример демонстрирует обычный способ связывания модулей
в Node.js, использующий возможности системы модулей для управления зависимостями
между различными компонентами приложения. Экспорт экземпляров с состоянием
из модулей позволяет платформе Node.js управлять циклом существования
этих экземпляров и непосредственно подключать их в других частях приложения.
Результатом является наглядная организация модулей, в которой легко разобраться
и которую несложно отлаживать, где каждый модуль инициализируется и подключается
без необходимости внешнего вмешательства.

Но, с другой стороны, жесткая зависимость от экземпляра с состоянием ограничивает
возможность связывания модуля с другими экземплярами, что затрудняет
его повторное использование и модульное тестирование. Например, повторное использование
модуля authService в комбинации с экземплярами других баз данных
практически невозможно, поскольку он жестко привязан к одному конкретному экземпляру.
Аналогично изолированное тестирование модуля authService может быть
затруднено, поскольку достаточно сложно создать фиктивный экземпляр базы данных,
используемый модулем.

С учетом изложенного выше становится очевидным, что большая часть недостатков
использования жестких зависимостей связана с состоянием экземпляров. Это
означает, что при использовании функции require() для подключения модулей, не
имеющих состояния, например фабрик, конструкторов или набора функций без состояния,
таких проблем не возникает. Хотя по-прежнему используется жесткая привязка
к конкретной реализации, но на платформе Node.js это обычно не влияет на
возможность повторного использования компонента, поскольку не требует привязки
к конкретному состоянию.